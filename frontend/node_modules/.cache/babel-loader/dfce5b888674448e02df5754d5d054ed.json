{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\regzl\\\\Desktop\\\\schedule\\\\frontend\\\\src\\\\Teachers.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { Button, Spin, Select } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const [loading, setLoadng] = useState(true);\n  const [data, setData] = useState([]);\n  const [loadTeachers, setLoadTeacher] = useState(null);\n  const [loadRooms, setLoadRoom] = useState(null);\n  const [loadClsses, setLoadClss] = useState(null);\n\n  const getTeachers = () => {\n    axios.get(\"http://localhost:8000/api/v1/teachers\").then(r => {\n      setLoadTeacher(r.data.data);\n    });\n  };\n\n  const getRooms = () => {\n    axios.get(\"http://localhost:8000/api/v1/rooms\").then(r => {\n      setLoadRoom(r.data.data);\n    });\n  };\n\n  const getClsses = () => {\n    axios.get(\"http://localhost:8000//api/v1/classes\").then(r => {\n      setLoadClss(r.data.data);\n    });\n  };\n\n  useEffect(() => {\n    if (loadTeachers === null) {\n      getTeachers();\n    }\n\n    if (loadRooms === null) {\n      getRooms();\n    }\n\n    if (loadClsses === null) {\n      getClsses();\n    }\n\n    if (loadTeachers != null && loadRooms != null && loadClsses != null) {\n      setLoadng(false);\n    }\n  }, [loadTeachers, loadRooms, loadClsses]);\n  const weeks = ['Даваа', 'Мягмар', 'Лхагва', 'Пүрэв', 'Баасан'];\n  const column = ['Багш-хичээл', 'Анги-бүлэг'];\n\n  const changeData = (key, index, value) => {\n    console.log(key, index, value);\n    var a = [...data];\n    a[index][key] = value;\n    setData(a);\n  };\n\n  const deleteData = index => {\n    var a = [...data];\n    a.splice(index, 1);\n    setData(a);\n  };\n\n  const addData = (roomId, weekIndex) => {\n    var a = [...data];\n    a.push({\n      room: roomId,\n      week: weekIndex,\n      teacher: null,\n      class: null\n    });\n    setData(a);\n  };\n\n  const listData = (d, i, roomId, weekIndex) => {\n    if (weekIndex === d.week && d.room === roomId) {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            value: d.teacher,\n            placeholder: \"\\u0431\\u0430\\u0433\\u0448 \\u0445\\u0438\\u0447\\u044D\\u044D\\u043B\",\n            onChange: e => {\n              changeData(\"teacher\", i, e);\n            },\n            children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n              value: null,\n              children: \"\\u0411\\u0430\\u0433\\u0448 \\u0445\\u0438\\u0447\\u044D\\u044D\\u043B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this), teachers.map(teacher => /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: teacher.id,\n              children: teacher.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 40\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"col-6\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            value: d.class,\n            placeholder: \"\\u0430\\u043D\\u0433\\u0438 \\u0431\\u04AF\\u043B\\u044D\\u0433\",\n            onChange: e => {\n              changeData(\"class\", i, e);\n            },\n            children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n              value: null,\n              children: \"\\u0410\\u043D\\u0433\\u0438 \\u0431\\u04AF\\u043B\\u044D\\u0433\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 13\n            }, this), classes.map(class1 => /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: class1.id,\n              children: class1.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 34\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 25\n            }, this),\n            onClick: () => deleteData(i)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this)]\n      }, `row${i}-room${roomId}-week${weekIndex}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 18\n      }, this);\n    }\n  };\n\n  return loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-3 mb-3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-bordered\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"bg-primary text-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), weeks.map(week => /*#__PURE__*/_jsxDEV(\"th\", {\n              width: \"17%\",\n              children: week\n            }, `week${week}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 36\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rooms.map(room => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: room.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 27\n            }, this), weeks.map((week, weekIndex) => /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"50%\",\n                      children: \"\\u0411\\u0430\\u0433\\u0448\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 38\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0410\\u043D\\u0433\\u0438\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 63\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: data && data.map((d, i) => listData(d, i, room.id, weekIndex))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n                        className: \"homeButton\",\n                        onClick: () => addData(room.id, weekIndex),\n                        children: \"\\u041D\\u044D\\u043C\\u044D\\u0445\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 40\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 35\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 31\n              }, this)\n            }, `row${room.id}-${weekIndex}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 57\n            }, this))]\n          }, `row${room.id}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 23\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 24\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container text-center\",\n    children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 53\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 14\n  }, this);\n}\n\n_s(Home, \"SuhkwXNUfOqfPCTdAszdrdSjaDg=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/regzl/Desktop/schedule/frontend/src/Teachers.js"],"names":["React","Component","useState","useEffect","axios","Link","DeleteOutlined","Button","Spin","Select","Home","loading","setLoadng","data","setData","loadTeachers","setLoadTeacher","loadRooms","setLoadRoom","loadClsses","setLoadClss","getTeachers","get","then","r","getRooms","getClsses","weeks","column","changeData","key","index","value","console","log","a","deleteData","splice","addData","roomId","weekIndex","push","room","week","teacher","class","listData","d","i","e","teachers","map","id","name","classes","class1","rooms"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect  } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport {  Button, Spin,  Select } from 'antd';\r\n\r\n\r\nexport default function Home() {\r\n    const [loading, setLoadng] = useState(true);\r\n    const [data, setData] = useState([]);\r\n\r\n    const [loadTeachers, setLoadTeacher] = useState(null);\r\n    const [loadRooms, setLoadRoom] = useState(null);\r\n    const [loadClsses, setLoadClss] = useState(null);\r\n    \r\n\r\n  const getTeachers = () =>{\r\n    axios.get(\"http://localhost:8000/api/v1/teachers\").then((r) => {\r\n      setLoadTeacher(r.data.data);\r\n    });\r\n  }\r\n\r\n  const getRooms = () =>{\r\n    axios.get(\"http://localhost:8000/api/v1/rooms\").then((r) => {\r\n      setLoadRoom(r.data.data);\r\n  });\r\n}\r\n\r\nconst getClsses = () =>{\r\n  axios.get(\"http://localhost:8000//api/v1/classes\").then((r) => {\r\n    setLoadClss(r.data.data);\r\n  });\r\n}\r\n\r\n\r\n\r\n  useEffect(() => {\r\n      if (loadTeachers === null) {\r\n        getTeachers();\r\n      }\r\n\r\n      if (loadRooms === null) {\r\n        getRooms();\r\n      }\r\n\r\n      if (loadClsses === null) {\r\n        getClsses();\r\n      }\r\n\r\n      if(loadTeachers!=null && loadRooms !=null && loadClsses !=null){\r\n        setLoadng(false);\r\n      }\r\n    }, [loadTeachers, loadRooms, loadClsses]);\r\n\r\n\r\n\r\n\r\n    const weeks = ['Даваа', 'Мягмар', 'Лхагва', 'Пүрэв', 'Баасан' ];\r\n    const column = ['Багш-хичээл', 'Анги-бүлэг'];\r\n  \r\n    const changeData = (key, index, value) =>{\r\n      console.log(key, index, value)\r\n      var a = [...data];\r\n      a[index][key] = value;\r\n      setData(a);\r\n    }\r\n    const deleteData = (index) =>{\r\n      var a = [...data];\r\n      a.splice(index, 1)\r\n      setData(a);\r\n    }\r\n    const addData = (roomId, weekIndex) => {\r\n      var a = [...data];\r\n      a.push({ room: roomId,  week: weekIndex, teacher: null, class: null })\r\n      setData(a);\r\n    }\r\n  \r\n    const listData = (d, i, roomId, weekIndex) =>{\r\n      if(weekIndex === d.week && d.room === roomId){\r\n        return  (<tr key={`row${i}-room${roomId}-week${weekIndex}`} >\r\n        <td>\r\n              <Select value={d.teacher} placeholder=\"багш хичээл\" onChange={(e)=>{ changeData(\"teacher\", i, e) }} >\r\n                <Select.Option value={null}>Багш хичээл</Select.Option>\r\n                {teachers.map(teacher=><Select.Option value={teacher.id}>{teacher.name}</Select.Option>)}\r\n              </Select>\r\n        </td>\r\n        <td className=\"col-6\">\r\n        <Select value={d.class} placeholder=\"анги бүлэг\" onChange={(e)=>{ changeData(\"class\", i, e) }} >\r\n            <Select.Option value={null}>Анги бүлэг</Select.Option>\r\n            {classes.map(class1=><Select.Option    value={class1.id}>{class1.name}</Select.Option>)}\r\n        </Select>\r\n        </td>\r\n        <td>\r\n          <Button icon={<DeleteOutlined />} onClick={()=>deleteData(i)} />\r\n        </td>\r\n      </tr>)\r\n      }\r\n    }\r\n  \r\n    return  loading ? (<div  className=\"container mt-3 mb-3\">\r\n\r\n      <div>\r\n    <table  className=\"table table-bordered\" >\r\n        <thead>\r\n            <tr className=\"bg-primary text-white\">\r\n                <th  ></th>\r\n                {weeks.map((week)=><th width=\"17%\" key={`week${week}`} >{week}</th>)}\r\n            </tr>\r\n        </thead>\r\n  \r\n        <tbody> \r\n                {rooms.map(room=>(\r\n                      <tr key={`row${room.id}`}>  \r\n                          <td>{room.name}</td>\r\n                          {weeks.map((week, weekIndex)=><td   key={`row${room.id}-${weekIndex}`} >\r\n                              <table className=\"table\">\r\n                                <thead>\r\n                                <tr> <th width=\"50%\">Багш</th><th>Анги</th> </tr>\r\n                                  </thead>\r\n                                  <tbody>\r\n                              {data && data.map((d, i)=> listData(d,i, room.id, weekIndex) ) }   \r\n                              </tbody>\r\n                              <tfoot>\r\n                                <tr>\r\n                                  <td> <Button  className=\"homeButton\" onClick={()=>addData(room.id, weekIndex)}  >Нэмэх</Button></td>\r\n                                </tr>\r\n                              </tfoot>\r\n                              </table>     \r\n                          </td>)}\r\n                        </tr> \r\n                ))}\r\n        </tbody>\r\n    </table>\r\n    </div>\r\n  </div>) : (<div className=\"container text-center\"><Spin /></div>);\r\n  }"]},"metadata":{},"sourceType":"module"}